[{"id":"ced34b1c.e6bc08","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"3890e7b7.d406c8","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"11d06b41.6d4ea5","type":"mqtt-broker","z":"","name":"","broker":"influx.itu.dk","port":"8883","tls":"f58845b9.9c3388","clientid":"IoT2020sec/meters","usetls":true,"compatmode":false,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"f58845b9.9c3388","type":"tls-config","z":"","name":"","cert":"","key":"","ca":"","certname":"","keyname":"","caname":"","servername":"","verifyservercert":true},{"id":"eee77c15.8f5a7","type":"mqtt in","z":"3890e7b7.d406c8","name":"","topic":"IoT2020sec/meters","qos":"2","datatype":"auto","broker":"11d06b41.6d4ea5","x":370,"y":160,"wires":[["585b2e87.0fda1"]]},{"id":"585b2e87.0fda1","type":"function","z":"3890e7b7.d406c8","name":"log","func":"node.log(msg.payload);\n\nvar bytes = []; // char codes\n\nfor (var i = 0; i < msg.payload.length; ++i) {\n    var code = msg.payload.charCodeAt(i);\n    bytes = bytes.concat([code]);\n}\n\nvar b;\nvar first = bytes[0].toString(2)\nif(first[0] === 0) b = \"false\" \nelse b = \"true\";\nnode.log(\"fake: \" + b);\nnode.log(\"id: \" + first.substring(1));\nnode.log(\"timestamp: \" + bytes[1] + bytes[2] + bytes[3] + bytes[4]);\nnode.log(\"Wh: \" + bytes[5] + bytes[6]);\n\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":260,"wires":[[]]}]